# ğŸ¤– Cursor Agent Configuration

This directory contains all configuration and automation files for the Cursor Agent that will execute the entire Claude Code AWS Bedrock Integration project.

## ğŸ“ Directory Structure

```bash
.cursor-agent/
â”œâ”€â”€ config.yaml                 # Main agent configuration
â”œâ”€â”€ env.local                  # Environment variables (generated by setup)
â”œâ”€â”€ setup-and-launch.sh        # Setup and verification script
â”œâ”€â”€ execution.log              # Execution log (generated during run)
â”œâ”€â”€ metrics.json               # Performance metrics (generated during run)
â”œâ”€â”€ prompts/                   # Custom prompts for each phase
â”œâ”€â”€ templates/                 # Code templates for generation
â””â”€â”€ README.md                  # This file
```

## ğŸš€ Quick Start

### 1. Set Environment Variables

```bash
export LINEAR_API_KEY="lin_pat_xxxxxxxxxxxxx"
export GITHUB_TOKEN="ghp_xxxxxxxxxxxxxxxx"
```

### 2. Run Setup Script

```bash
chmod +x .cursor-agent/setup-and-launch.sh
./.cursor-agent/setup-and-launch.sh
```

### 3. Start Work in Linear

Go to https://linear.app/workdev and move WOR-8 to "In Progress"

Cursor Agent will automatically:
- Create GitHub branch
- Generate code
- Commit changes
- Update Linear progress

## ğŸ“‹ Configuration Files

### config.yaml
Main configuration file with:
- Linear API settings
- GitHub integration
- Phase definitions (WOR-8 through WOR-16)
- Automation rules
- Progress tracking
- Error handling
- Notification settings

See `config.yaml` for detailed comments.

### env.local
Generated by setup script. Contains:
- `LINEAR_API_KEY` - Linear API authentication
- `GITHUB_TOKEN` - GitHub API authentication
- `GITHUB_REPOSITORY` - Target repository
- `LINEAR_WORKSPACE` - Linear workspace
- `LINEAR_PROJECT` - Linear project key

**Security**: This file is in .gitignore and should never be committed.

### setup-and-launch.sh
Verification and initialization script that:
- Verifies Linear API access
- Verifies GitHub API access
- Initializes project structure
- Validates Linear project configuration
- Creates environment configuration

## ğŸ¯ Execution Flow

```bash
User moves WOR-8 to "In Progress" in Linear
        â†“
Linear webhook triggers Cursor Agent
        â†“
Cursor Agent reads issue context via GraphQL
        â†“
Cursor Agent creates GitHub branch
        â†“
Cursor Agent generates code for phase
        â†“
Cursor Agent commits code with proper message
        â†“
GitHub Actions runs tests
        â†“
Cursor Agent updates Linear progress
        â†“
After review, user merges PR
        â†“
Linear issue auto-closes
        â†“
Cursor Agent starts next phase (WOR-9)
        â†“
Repeat until all 9 phases complete
```

## ğŸ“Š Monitoring

### Check Execution Log
```bash
tail -f execution.log
```

### Check Metrics
```bash
cat metrics.json | jq .
```

### Monitor in Linear
https://linear.app/workdev

### Monitor in GitHub
https://github.com/evgenygurin/claude-clode-cloud

## ğŸ”§ Configuration Options

Key settings in `config.yaml`:

```yaml
# Update Linear every 15 minutes
progress:
  update_interval_minutes: 15

# Post daily summary
progress:
  post_daily_summary: true

# Execute phases sequentially
performance:
  max_parallel_phases: 1

# Retry on failure
error_handling:
  max_retries: 3
  retry_backoff_seconds: 5
```

## âš ï¸ Important Notes

### API Rate Limiting
- Linear API: 100 requests/minute
- GitHub API: 60 requests/minute

### Secret Security
- Never commit `env.local` file
- Never log API keys
- Use environment variables

### Phase Dependencies
Each phase depends on the previous:
- WOR-8 (AWS) â†’ WOR-9 (Config) â†’ WOR-10 (Auth) â†’ ... â†’ WOR-16

### Automatic Retries
If a phase fails:
1. Cursor Agent logs the error
2. Posts error message in Linear
3. Retries up to 3 times with exponential backoff
4. If still failing, waits for manual intervention

## ğŸ†˜ Troubleshooting

### Setup Script Fails
```bash
# Check if required tools are installed
command -v git && echo "git OK" || echo "git missing"
command -v curl && echo "curl OK" || echo "curl missing"
command -v jq && echo "jq OK" || echo "jq missing"

# Check API keys
echo "LINEAR_API_KEY: $LINEAR_API_KEY"
echo "GITHUB_TOKEN: $GITHUB_TOKEN"
```

### Linear API Fails
```bash
# Test Linear API directly
curl -H "Authorization: Bearer $LINEAR_API_KEY" \
  https://api.linear.app/graphql \
  -d '{"query":"query { viewer { name } }"}'
```

### GitHub API Fails
```bash
# Test GitHub API directly
curl -H "Authorization: token $GITHUB_TOKEN" \
  https://api.github.com/user
```

### Cursor Agent Not Running
```bash
# Check if process exists
ps aux | grep cursor-agent

# Check logs for errors
tail -100 execution.log | grep ERROR
```

## ğŸ“ Support

- **Linear Issues**: https://linear.app/workdev/issue/WOR-7/
- **GitHub Issues**: https://github.com/evgenygurin/claude-clode-cloud/issues
- **Linear Chat**: Available in Linear workspace

## ğŸ“š Related Documentation

- Main launch guide: `../LAUNCH.md`
- Configuration details: `./config.yaml`
- GraphQL queries: `../linear-automation/graphql-queries.graphql`
- Project overview: `../README.md`

## âœ¨ Summary

Everything is configured and ready:
âœ… Linear project created (WOR-7 with 9 sub-tasks)
âœ… Configuration files generated
âœ… Automation rules defined
âœ… GraphQL queries prepared
âœ… GitHub integration ready
âœ… Monitoring setup complete

**Next step**: Run setup script and start work in Linear!

---

**Project**: Claude Code AWS Bedrock Integration
**Agent Version**: 1.0
**Created**: 2025-11-18
